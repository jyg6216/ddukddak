<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>

<style>
.rounds-left {
	width: 30%;
}

.in-h2 {
	font-size: 16px !important;
}

.rounds-patient-history {
    height: 479px;
}

.rounds-tab-wrap {
	display: flex;
    gap: 24px;
    justify-content: space-evenly;
}

.rounds-tab {
	margin-top: 32px;
    border-top-right-radius: 18px;
    border-top-left-radius: 18px;
    border: 1px solid var(--border, #E0E8E6);
    border-bottom: none;
    padding: 16px;
    background: var(--white, #FFF);
    width: 35%;
    padding: 4px;
    text-align: center;
    color: #000;
    cursor: pointer;
}

.tab-active {
	background-color: #F8F9FC;
	color: #8D9EA5;
	font-family: 'Pretendard5';
}

.clinic-history-list {
    display: flex;
    overflow-x: scroll;
	white-space: nowrap;
	padding-bottom: 16px;
}

.clinic-history-head {
	display: flex;
	border-radius: 10px;
    border: 1px solid var(--border, #E0E8E6);
    padding: 8px;
    width: 150px;
    height: 80px;
    flex-shrink: 0;
    flex-direction: column;
}

::-webkit-scrollbar {
    height: 8px;
}

.history-btn {
	width: 12px;
}

.neon-text {
  color: #0ABAB5; /* 텍스트 색상 */
  text-shadow:
    0 0 5px #DBF2F4, /* 바깥쪽 발광 효과 */
}
 
/* 커서 올리기, 클릭 시 색깔바꾸기 시작 */
.clinic-history-head:hover {
	background-color: #EDF8F9;
} 
 
.selected {
	background-color: #EDF8F9;
}
/* 커서 올리기, 클릭 시 색깔바꾸기 끝 */

.clinic-history-body-scroll {
	height: 340px;
	overflow-y: scroll;
	padding: 16px;
}

.table-clinic-history {
	display: flex;
	padding: 12px 16px;
	flex-direction: column;
	justify-content: center;
	gap: 4px;
	border-radius: 12px;
	background: var(--bg-01, #F8F9FC);
	width: 380px;
	height: auto;
	margin-bottom: 16px;
}

.textarea-clinic-history-injnm {
	resize: none;
	width: 90%;
	height: 50px;
}

.textarea-clinic-history-opinion {
	resize: none;
	width: 90%;
	height: 150px;
}

</style>

<div class="dduk-body-border rounds-left">
	<div class="dduk-inner-border">
		<div class="dduk-title-area">
			<h2>환자 정보 조회</h2>
		</div>
		<div class="patient-info-div">
			<div class="dduk-row">
				<h2 class="in-h2" style="width:50%">이름 : </h2>
				<h2 class="in-h2" style="width:30%">성별 : </h2>
				<h2 class="in-h2" style="width:30%">나이 : </h2>
			</div>
			<br>
			<div class="dduk-row">
				<h2 class="in-h2" style="width:35%">보호자 이름 : </h2>
				<h2 class="in-h2" style="width:65%">보호자 번호 : </h2>
			</div>
			<br>
			<div class="dduk-row">
				<h2 class="in-h2" style="width:33%">혈액행 : </h2>
				<h2 class="in-h2" style="width:33%">키 : </h2>
				<h2 class="in-h2" style="width:33%">몸무게 : </h2>
			</div>
		</div>
	</div>
	<div class="dduk-row rounds-tab-wrap">
		<div class="rounds-tab" id="clinicHistory">진료내역</div>
		<div class="rounds-tab tab-active" id="admissionHistory">입원내역</div>
	</div>
	<div class="dduk-inner-border rounds-patient-history">
		<div class="dduk-row clinic-history-list">
			<div class="clinic-history-head">
				<div class="dduk-row">2023-11-20</div>
				<div class="dduk-row">담당의 : 김영남</div>
				<div class="dduk-row">
					<span class="history-btn"><span class="neon-text">진료</span></span>
					<span class="history-btn">검사</span>
					<span class="history-btn"><span class="neon-text">치료</span></span>
					<span class="history-btn">처방</span>
				</div>
			</div>
			<div class="clinic-history-head">
				<div class="dduk-row">2023-01-15</div>
				<div class="dduk-row">담당의 : 김영남</div>
				<div class="dduk-row">
					<span class="history-btn"><span class="neon-text">진료</span></span>
					<span class="history-btn">검사</span>
					<span class="history-btn"><span class="neon-text">치료</span></span>
					<span class="history-btn">처방</span>
				</div>
			</div>
			<div class="clinic-history-head">
				<div class="dduk-row">2023-11-20</div>
				<div class="dduk-row">담당의 : 김영남</div>
				<div class="dduk-row">
					<span class="history-btn"><span class="neon-text">진료</span></span>
					<span class="history-btn">검사</span>
					<span class="history-btn"><span class="neon-text">치료</span></span>
					<span class="history-btn">처방</span>
				</div>
			</div>
			<div class="clinic-history-head"></div>
			<div class="clinic-history-head"></div>
		</div>

		<div class="clinic-history-body-scroll">
		
			<h4>진단명</h4>
			<textarea class="dduck-input textarea-clinic-history-injnm" readonly="readonly"></textarea>
			
			<h4>소견</h4>
			<textarea class="dduck-input textarea-clinic-history-opinion" readonly="readonly"></textarea>
		
			<h4>진단</h4>
			<div class="table-clinic-history">
				<table>
					<thead>
						<tr>
							<th class="gray-text" style="width: 15%">분류</th>
							<th class="gray-text" style="width: 40%">상병명</th>
							<th class="gray-text" style="width: 30%">발병일</th>
							<th class="gray-text" style="width: 15%">환부</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>주</td>
							<td>진짜뒤지게아픈병</td>
							<td>2023-11-15</td>
							<td>무릎</td>
						</tr>
						<tr>
							<td>주</td>
							<td>진짜뒤지게아픈병</td>
							<td>2023-11-15</td>
							<td>무릎</td>
						</tr>
						<tr>
							<td>주</td>
							<td>진짜뒤지게아픈병</td>
							<td>2023-11-15</td>
							<td>무릎</td>
						</tr>
					</tbody>
				</table>
			</div>
			
			<h4>검사</h4>
			<div class="table-clinic-history">
				<table>
					<thead>
						<tr>
							<th class="gray-text" style="width: 25%">검사명</th>
							<th class="gray-text" style="width: 60%">검사결과</th>
							<th class="gray-text" style="width: 15%">환부</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>X-RAY</td>
							<td>진짜엄청큰일남</td>
							<td>무릎</td>
						</tr>
					</tbody>
				</table>
			</div>
			
			<h4>처방</h4>
			<div class="table-clinic-history">
				<table>
					<thead>
						<tr>
							<th class="gray-text w-25">검사명</th>
							<th class="gray-text w-60">검사결과</th>
							<th class="gray-text w-15">환부코드</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>주</td>
							<td>진짜뒤지게아픈병</td>
							<td>2023-11-15</td>
						</tr>
					</tbody>
				</table>
			</div>
			
			<h4>치료</h4>
			<div class="table-clinic-history">
				<table>
					<thead>
						<tr>
							<th class="gray-text w-15">상병 분류</th>
							<th class="gray-text w-40">상병명</th>
							<th class="gray-text w-30">발병일</th>
							<th class="gray-text w-15">환부</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>주</td>
							<td>진짜뒤지게아픈병</td>
							<td>2023-11-15</td>
							<td>무릎</td>
						</tr>
						<tr>
							<td>주</td>
							<td>진짜뒤지게아픈병</td>
							<td>2023-11-15</td>
							<td>무릎</td>
						</tr>
						<tr>
							<td>주</td>
							<td>진짜뒤지게아픈병</td>
							<td>2023-11-15</td>
							<td>무릎</td>
						</tr>
					</tbody>
				</table>
			</div>
			
		</div>
	</div>
</div>
<div class="dduk-body-border rounds-right-wrap">

</div>

<script>
	$(function() {

		// 탭 css주는 부분
		$(document).on('click', '.rounds-tab', function() {
			// 자신에겐 tab-active를 제거, 다른 하나의 탭엔 tab-active 적용
			$(this).removeClass('tab-active');
			$('.rounds-tab').not(this).addClass('tab-active');
		});

		// 진료내역 클릭시 이벤트
		$(document).on('click', '.clinic-history-head', function() {
			// 이전에 적용됐던 클릭시 효과를 지우고 방금 클릭한곳에 적용
			$('.clinic-history-head').removeClass('selected');
			$(this).addClass('selected');
		});

		// 이름 등이 글자를 제어하고 싶을 때 maxLength까지만 표시
		function truncateText(text, maxLength) {
			if (text.length > maxLength) {
				return text.slice(0, maxLength) + '...';
			} else {
				return text;
			}
		}
	})
</script>