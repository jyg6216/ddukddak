<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags"  %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<style>
/* 어사이드 강조 */
.aside-ams-admiss{
	width: 196px;
	border-radius: 16px 0px 0px 16px;
	background: var(--bg-02, #DBF2F4);
	height: 56px;
	border-right: 4px solid var(--ci-01, #0ABAB5);
	margin-left: 4px;
	color: var(--ci-01, #0ABAB5);
}
.search{
	background-image: url(/resources/images/Search.png);
	background-repeat: no-repeat;
	background-position: calc(100% - 10px) center;
	width: 300px;
	height: 48px;
	margin-left: 18px;
}
.subTitle-margin{
	height: 50%;
	margin: -16px;
    padding: 24px;
}
hr {
    margin: 0;
    width: 100%; /* 부모 요소에 맞게 너비를 조절합니다 */
}

.dduk-history {
	height: 765px;
    margin: 0px -16px -16px -16px;
}

.dduk-title-area {
	margin: -16px -16px 0px -16px;
    padding: 16px 24px 8px 24px;
    border-bottom: 1px solid #EBEFF0;
}

.patient-record{
	height: 765px;
	width: 350px;
    margin: 0px -16px -16px -16px;
}

.admission-room-detail{
	width: 860px;
	height: 840px;
}

.room-tab {
    background-color: transparent;
    border: none;
    cursor: pointer;
    padding: 8px 12px;
    margin-right: 8px;
    color: #8D9EA5;
}

.room-tab.selected {
    background-color: white;
    color: black;
}
</style>
<script>
$(document).ready(function() {
	
	$('.aside-ams-admiss').find('svg').find('path').attr('fill', '#0ABAB5');
	
	// 초기에 환자 상세를 숨김
    $("#patient-detail").hide();
    $("#doctor-opinion").hide();

    // 입원 대기 목록을 클릭했을 때
    $("#admiss-patient-list").on("click", "tr", function() {
        $("#patient-detail").show();
        $("#doctor-opinion").show();
        // 이후 해당 환자에 대한 정보를 가져와서 보여줄 수 있음
        console.log("입원대기 명단 클릭");
    });

    // 퇴원 대기 목록을 클릭했을 때
    $("#discharge-patient-list").on("click", "tr", function() {
    	$("#patient-detail").show();
        $("#doctor-opinion").show();
        // 이후 해당 환자에 대한 정보를 가져와서 보여줄 수 있음
        console.log("퇴원대기 명단 클릭");
    });
    
    var buttons = document.querySelectorAll('.room-tab');

    buttons.forEach(button => {
        button.addEventListener('click', function() {
            // 모든 버튼에서 selected 클래스 제거
            buttons.forEach(btn => btn.classList.remove('selected'));

            // 클릭된 버튼에만 selected 클래스 추가
            this.classList.add('selected');
        });
    });
	
});
</script>
<html>
<body>
<div class="dduk-body-border admission-detail"  style="position: relative; width: 732px;" >
	<div class="dduk-title-area">
		<div class="d-flex align-items-center">
			<h2  id="admissName">대기 환자 목록</h2>
			<span id="admissInfo" class="gray-text mar-b-8 mar-l-8"></span>
		</div>
		<div class="d-flex">
			<input type="text" id="search" class="search dduck-input" placeholder="환자 이름/번호를 입력해 주세요" autocomplete="off">
		</div>
	</div>
	<div class="d-flex">
		<div class="dduk-history" style="width: 412px;">
			<div style="height: 760px;">
				<div class="subTitle-margin" style="border-bottom: 1px solid #EBEFF0;">
					<h2>입원 대기</h2>
					<div class="dduk-x-pd8" style="overflow: auto;">
						<table class="admiss-list-table" id="admiss-list-table">
							<thead>
								<tr class="tr-padding">
									<th class="td-padding gray-text" style="width: 40px;">No</th>
									<th class="td-padding gray-text" style="width: 80px;">환자번호</th>
									<th class="td-padding gray-text admissName" style="width: 120px;">이름</th>
									<th class="td-padding gray-text" style="width: 100px;">생년월일</th>
								</tr>
							</thead>
							<tbody id="admiss-patient-list">
								<tr class="tr-padding tr-adPaInfo">
									<td class="td-padding">01
									</td>
									<td height="48px" class="td-padding">abc122
									</td>
									<td class="td-padding">파이리
									</td>
									<td class="td-padding">2023-12-10
									</td>
								</tr>
								<tr class="tr-padding tr-adPaInfo">
									<td class="td-padding">02
									</td>
									<td height="48px" class="td-padding">abc123
									</td>
									<td class="td-padding">꼬부기
									</td>
									<td class="td-padding">2023-12-11
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="subTitle-margin">
					<h2>퇴원 대기</h2>
					<div class="dduk-x-pd8" style="overflow: auto;">
						<table class="discharge-list-table" id="discharge-list-table">
							<thead>
								<tr class="tr-padding">
									<th class="td-padding gray-text" style="width: 40px;">No</th>
									<th class="td-padding gray-text" style="width: 80px;">환자번호</th>
									<th class="td-padding gray-text dischargeName" style="width: 120px;">이름</th>
									<th class="td-padding gray-text" style="width: 100px;">생년월일</th>
								</tr>
							</thead>
							<tbody id="discharge-patient-list">
								<tr class="tr-padding tr-adPaInfo">
									<td class="td-padding">01
									</td>
									<td height="48px" class="td-padding">abc122
									</td>
									<td class="td-padding">파이리
									</td>
									<td class="td-padding">2023-12-10
									</td>
								</tr>
								<tr class="tr-padding tr-disPaInfo">
									<td class="td-padding">02
									</td>
									<td height="48px" class="td-padding">abc123
									</td>
									<td class="td-padding">꼬부기
									</td>
									<td class="td-padding">2023-12-11
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class="patient-record">
			<div class="subTitle-margin">
				<h3>환자 상세</h3>
				<div class="gap-ver-16">
					<div id="patient-detail" 
						class="dduk-inner-border record-content-fr" style="width:288px; height: 320px">
						<h3 class="m-8">선택된 이름</h3>
						<div>
							<div class="m-16">
								<p>성별</p>
									<span class="sex mar-b-8"></span>
							</div>
							<div class="m-16 mar-b-8">
								<p>나이</p>
									<span class="age mar-b-8"></span>
							</div>
							<div class="m-16">
								<p>건강보험</p>
									<span class="insr mar-b-8"></span>
							</div>
							<hr style="width: 240px;">
							<div class="m-16">
								<p>연락처</p>
									<span class="ph mar-b-8"></span>
							</div>
							<div class="m-16">
								<p>주소</p>
									<span class="add mar-b-8"></span>
							</div>
						</div>
					</div>
					<div id="doctor-opinion" 
						class="dduk-inner-border record-content-fr" style="width:288px; height: 360px">
						<h3 class="m-8">의사 소견</h3>
						<textarea class="dduck-input reason-box" readonly="readonly" style="width:255px; height: 285px"></textarea>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="dduk-body-border admission-room-detail"  style="position: relative;">
	<div class="dduk-title-area spa-betw">
		<div class="d-flex align-items-center">
			<h2 id="admissRoomName">병상 현황</h2>
			<span id="paInfo" class="gray-text mar-b-8 mar-l-8"></span>
		</div>
		<div class="d-flex">
			<div class="d-flex patient-info" style="margin-left:-5%; margin-right:5%; width: 230px;	height: 48px;">
				<div class="d-flex">
					<button class="room-tab" id="twinRoom">2인실</button>
				</div>
				<div class="d-flex">
					<button class="room-tab" id="familyRoom">4인실</button>
				</div>
				<div class="d-flex">
					<button class="room-tab" id="suiteRoom">6인실</button>
				</div>
			</div>
		</div>
	</div>
	<div class="subTitle-margin" style="border-bottom: 1px solid #EBEFF0;">
		<h2>304호</h2>
	</div>
</div>
</body>
</html>