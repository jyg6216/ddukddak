<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags"  %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<style>
.aside-ams-receipt{
	width: 196px;
	border-radius: 16px 0px 0px 16px;
	background: var(--bg-02, #DBF2F4);
	height: 56px;
	border-right: 4px solid var(--ci-01, #0ABAB5);
	margin-left: 4px;
	color: var(--ci-01, #0ABAB5);
}

.rcptCenter {
	height: 416px;
	width: 592px;
	margin-bottom: 8px;
}

.docOfcWrap {
	width: 660px;
}

.docOfc{
	height: 375px;	
	width: 300px;
	float: left;
	margin: 4px 2px 4px 2px;
}
.search{
	background-image: url(/resources/images/Search.png);
	background-repeat: no-repeat;
	background-position: 392px center;
	width: 432px;
	height: 48px;
	margin-left: 18px;
}

.autocomplete{
	width: 410px;
	background-color: #F8F9FC;
	margin-left: 120px;
}
mark {
  background-color: #DBF2F4; /* 원하는 색상으로 변경 가능 */
}

.dduk-vertical-line {
	height: 642px;
	margin-top: -18px;
	margin-left: 272px;
}

hr{
	margin: -8px 0 16px -16px;
	background: var(--border, #EBEFF0);
	height: 1px;
}

.record-content-fr {
	height: 343px;
}

</style>
<script>
$(document).ready(function() {
	$('.aside-ams-receipt').find('svg').find('path').attr('fill', '#0ABAB5');
	
	 var strPaName=( $('.paName').val()).substring(0,8);
});
</script>
<html>
<body>
	<div class="dduk-body-border patient-list">
		<div>
			<div class="dduk-title-area">
				<h2>환자 목록</h2>
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
					<g clip-path="url(#clip0_142_1638)">
						<path d="M18 13H13V18C13 18.55 12.55 19 12 19C11.45 19 11 18.55 11 18V13H6C5.45 13 5 12.55 5 12C5 11.45 5.45 11 6 11H11V6C11 5.45 11.45 5 12 5C12.55 5 13 5.45 13 6V11H18C18.55 11 19 11.45 19 12C19 12.55 18.55 13 18 13Z" fill="#8D9EA5"/>
					</g>
					<defs>
					<clipPath id="clip0_142_1638">
						<rect width="24" height="24" fill="white"/>
					</clipPath>
					</defs>
				</svg>
			</div>
			<div class="dduk-x-pd8">
				<table class="patient-list-table">
					<tr class="tr-padding">
						<th class="td-padding gray-text" style="width:40px;">No</th>
						<th class="td-padding gray-text paName" style="width:120px;">이름</th>
						<th class="td-padding gray-text">생년월일</th>
					</tr>
					<c:forEach var="patient" items="${patientVOList}" varStatus="status">
						<tr class="tr-padding">
							<td class="td-padding">
								${status.count}
							</td>
							<td height="48px" class="td-padding">
								<c:choose>
							        <c:when test="${fn:length(patient.paName) gt 9}">
							        <c:out value="${fn:substring(patient.paName, 0, 7)}">
							        </c:out>...</c:when>
							        <c:otherwise>
							        <c:out value="${patient.paName}">
							        </c:out></c:otherwise>
								</c:choose>
							</td>
							<td class="td-padding">
								<c:choose>
							        <c:when test="${fn:substring(patient.paReg, 0, 1) gt 0}">
							        19<c:out value="${fn:substring(patient.paReg, 0, 2)}">
							        </c:out></c:when>
							        <c:otherwise>
							        20<c:out value="${fn:substring(patient.paReg, 0, 2)}">
							        </c:out></c:otherwise>
								</c:choose>
								-${fn:substring(patient.paReg, 2, 4)}-${fn:substring(patient.paReg, 4, 6)}
							</td>
						</tr>
					</c:forEach>
				</table>
			</div>	
		</div>
	</div>
	
	
	<div>
		<div class="dduk-inner-border rcptCenter">
			<div class="subTitle-margin">
				<h3>환자 정보 조회<input type="text" id="search" class="search dduck-input" placeholder="환자 이름을 검색해주세요" autocomplete="off"></h3>
				<div class="autocomplete"></div>
			</div>
		</div>
		<div class="dduk-inner-border rcptCenter">
			<div class="subTitle-margin">
				<h3>오늘 예약 리스트</h3>
			</div>
			<div class="card-body table-responsive p-0" style="height: 250px;">
					<table class="table table-head-fixed text-nowrap">
						<thead>
							<tr>
								<th>ID</th>
								<th>User</th>
								<th>Date</th>
								<th>Status</th>
								<th>Reason</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>183</td>
								<td>김환자</td>
								<td>11-7-2014</td>
								<td><span class="tag tag-success">완치</span></td>
								<td>빨리빨리 다니세요.</td>
							</tr>
							<tr>
								<td>219</td>
								<td>저환자</td>
								<td>11-7-2014</td>
								<td><span class="tag tag-warning">Pending</span></td>
								<td>Bacon ipsum dolor sit</td>
							</tr>
							<tr>
								<td>657</td>
								<td>김영남</td>
								<td>11-7-2014</td>
								<td><span class="tag tag-primary">Approved</span></td>
								<td>Bacon ipsum dolor sit</td>
							</tr>
							<tr>
								<td>657</td>
								<td>크롱스뭐시기대위</td>
								<td>11-7-2014</td>
								<td><span class="tag tag-primary">Approved</span></td>
								<td>Bacon ipsum dolor sit</td>
							</tr>
						</tbody>
					</table>
				</div>
		</div>
	</div>
	
	<div class="dduk-body-border docOfcWrap"  style="position: relative;">
		<div class="subTitle-margin">
			<h3>진료실 현황</h3>
		</div>
		
		<div class="dduk-inner-border docOfc">
			<div class="subTitle-margin">
				<h3>진료실 1</h3>
			</div>
		</div>
		<div class="dduk-inner-border docOfc">
			<div class="subTitle-margin">
				<h3>진료실 2</h3>
			</div>
		</div>
		<div class="dduk-inner-border docOfc">
			<div class="subTitle-margin">
				<h3>진료실 3</h3>
			</div>
		</div>
		<div class="dduk-inner-border docOfc">
			<div class="subTitle-margin">
				<h3>진료실 4</h3>
			</div>
		</div>
	</div>
<script src="<c:url value="/resources/script/searchByChosung.js" />"></script>
</body>
</html>